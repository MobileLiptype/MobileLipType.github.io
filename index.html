<html>

  <head>
    <title> Chat </title>
    
    <style>
    
      
    
      .header-area {
        height: 6%;
        background: rgb(0 127 255);
        box-shadow: 0 0.25rem 0.25rem rgba(0, 0, 0, 0.2), 0 0 1rem rgba(0, 0, 0, 0.2);
        color: white;
        padding: 4px;
      }
      
      .message-area {
        height: 80%;
        padding: 3px;
        overflow: auto;

      }
      
      .typing-area {
        margin-top: 4px;
        padding: 4px;
        height: 8%;
      }
      
      .typing-box {
        width: 90%;
        height: 100%;
        resize: none;
        padding: 3px;
      }
      
      .send-button {
        border: 0;
        width: 9%;
        background: rgb(0 127 255);
        color: white;
        padding: 8px;
        font-size: 18px;
        position: absolute;
        margin: 8px;
      }
      
      .message-box {
        margin-top: 10px;
      }
      
      .others-message-box {
      }
      
      .my-message-box {
        text-align: right;
        background: white;
      }
      
      .message {
        max-width: 70%;
        border-radius: 5%;
        padding: 5px;
        box-shadow: 0 0.25rem 0.25rem rgba(0, 0, 0, 0.2), 0 0 1rem rgba(0, 0, 0, 0.2);
      }
      
      .my-message {
        float: right;
        background: rgb(0 127 255);
        color: white;
      }
      
      .others-message {
        float: left;
        background: white;
      }
      
      .separator {
        width: 100%;
        height: 8px;
        float: left;
      }
       #input { align:center;border-bottom: 0px solid #ccc; background-color: #fff; padding: 0.25em; outline: 0; opacity:0.5;}
    #input::before { content: ""; }
    #image{
            display:none;
    input,
/*input:focus {
  border: none;
}*/
input {
  /*animation: blink-empty 1s infinite;*/
  /*border-left: transparent solid 1px;*/
  margin: 5px;
  /*color: black;*/
  border-top-style: hidden;
  border-right-style: hidden;
  border-left-style: hidden;
  border-bottom-style: hidden;
  display: block;
  margin-right: auto;
  margin-left: auto;
  opacity: 1;
  cursor: none;



  &:focus {
    outline: none;
  }
    
    
    </style>
    <style>
.aligncenter {
    text-align: center;
}
</style>
<style type="text/css">
  


.text {
  /*position: absolute;*/
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
/*     margin-left: 5px; */
  z-index: -1;
}

.red {
  color: black;
}
</style>
  </head>
  
  <body>
  
    <!-- <div class="header-area">
      <h1> Codeboard Global Chat </h1>
    </div> -->
    
    <div>
      <!-- <div class="message-box others-message-box">
        <div class="message others-message"> Hi, How are you? </div>
        <div class="separator"></div>
      </div>
      
      <div class="message-box my-message-box">
        <div class="message my-message"> I am good, how are you doing? </div>
        <div class="separator"></div>
      </div> -->
        <br><br>
  <br><br>

      <input type="text" class="item-input" STYLE="text-align:center;height:100px;font-size:30pt;font-family:Courier New;color:black;width:100%;border: none;font-weight:bold;caret-color: transparent;" value="this is a very good idea" id="Box2">
        <br><br>
        <p class="aligncenter">
           <img src="http://192.168.0.73:8080/video" width="800" height="800";> </p>
     
  <br><br>
    <br><br>

    
      <!-- <input type="text"> -->
<div style="border: 1px solid #000; height: 80px; width: 80%; width: 80%; margin:0 auto;">
  <input type="text" style="opacity: 0; width: 100%;">
    <span type="text" class="text" STYLE="text-align:center;font-size:30pt;font-family:Courier New, monospace;color:#808080;caret-color: transparent;" value="" id="Box1"/></span>
  </div>
    <!-- <pre id="messages" style="width: 90%; margin-left: 5%; height: 200px; overflow: scroll"> -->
        <!-- </pre> -->
    
    <!-- <div class="typing-area">
      <textarea class="typing-box" id="typing-box"></textarea>
      <button class="send-button" onclick="sendMessage()"> Send </button>
    </div> -->
    </div>
    <script src="https://cdn.socket.io/4.4.1/socket.io.min.js" integrity="sha384-fKnu0iswBIqkjxrhQCTZ7qlLHOFEgNkRmK2vaO/LbTZSXdJfAu6ewRBdwHPhBo/H" crossorigin="anonymous"></script>
    <script>
      
      var socket;
      window.onload = function() {
        
        // socket = io.connect('http://localhost:3000');
        socket = io.connect('https://lipreadingapp.herokuapp.com/', { transports: ['websocket', 'polling', 'flashsocket'] });
        const input = document.querySelector('#Box2');
        const input1 = document.querySelector('#Box1');
        var i=0;
        socket.on('message-from-others', function(message){
          i = i+1
          var html =  message
          // html = "this"
          console.log("i ",i)
          if(i%2==0){
var text = html
for (var n = 0, l = 1; n < 2; n++) {
  setTimeout(function(n) {
for (var m = 0, l = text.length; m < l+3; m++) {
  setTimeout(function(m) {
    input1.value = text.substring(0, m + 1);
if (m == 0) {
      // var input1 = document.getElementById("Box1");
    // input1.value = "the";
    var value = "the";
  var value1 = ""
  input1.innerHTML = value
    // input1.setSelectionRange(1, 3); // Highlights "Cup"
    // input1.focus();
      // box.value = final_str
      text = "tis s a vaey gud dea"
      console.log("i6")
    }

    if (m == 1) {
      // var input1 = document.getElementById("Box1");
    // input1.value = "time";
    var value = "time";
  var value1 = ""
  input1.innerHTML = value
    // input1.setSelectionRange(2, 4); // Highlights "Cup"
    // input1.focus();
      // box.value = final_str
      text = "tis s a vaey gud dea"
      console.log("i6")
    }

    if (m == 2) {
      // var input1 = document.getElementById("Box1");
    // input1.value = "tis";
    var value = "tissue";
  var value1 = ""
  input1.innerHTML = value
    // input1.setSelectionRange(2, 3); // Highlights "Cup"
    // input1.focus();
      // box.value = final_str
      text = "tis s a vaey gud dea"
      console.log("i6")
    }

    if (m == 3) {
      // var input1 = document.getElementById("Box1");
    // input1.value = "this ";
    var value = "this";
  var value1 = " "
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1

    // input1.setSelectionRange(5, 7); // Highlights "Cup"
    // input1.focus();
      // box.value = final_str
      text = "this s a vaey gud dea"
      console.log("i6")
    }


    if (m == 4) {
      // document.getElementById("Box1").style.color = red;
      // var input1 = document.getElementById("Box1");
    // input1.value = "this said";
    var value = "this";
  var value1 = " state"
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
    // input1.setSelectionRange(6, 9); // Highlights "Cup"
    // input1.focus();
      text = "this s a vaiy gud dea"
      console.log("i6")
    }
    if (m == 5) {
      // document.getElementById("Box1").style.color = red;
      // var input1 = document.getElementById("Box1");
    // input1.value = "this is ";
    var value = "this is";
  var value1 = " "
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
    // input1.setSelectionRange(8, 9); // Highlights "Cup"
    // input1.focus();
      text = "this is a vaey gud dea"
      console.log("i6")
    }
    if (m == 6) {
      // var input1 = document.getElementById("Box1");
    // input1.value = "this is and";
    var value = "this is";
  var value1 = " and"
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
    // input1.setSelectionRange(9, 11); // Highlights "Cup"
    // input1.focus();
      text = "this is a vaey gud dea"
      console.log("i8")
    }
    if (m == 7) {
    // input1.value = "this is a ";
    var value = "this is a";
  var value1 = " "
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
    // input1.setSelectionRange(10, 16); // Highlights "Cup"
    // input1.focus();
      text = "this is a vaey gud dea"
      console.log("i13")
    }

if (m == 8) {
    input1.value = "this is a video";
    var value = "this is a";
  var value1 = " video"
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
    // input1.setSelectionRange(11, 16); // Highlights "Cup"
    // input1.focus();
      text = "this is a vaey gud dea"
      console.log("i8")
    }
if (m == 9) {
    // input1.value = "this is a value";
    var value = "this is a";
  var value1 = " value"
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
    // input1.setSelectionRange(12, 16); // Highlights "Cup"
    // input1.focus();
      text = "this is a vaey gud dea"
      console.log("i13")
    }
    if (m == 10) {
    // input1.value = "this is a vae";
    var value = "this is a";
  var value1 = " vae"
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
      text = "this is a vaey gud dea"
      console.log("i13")
    }
    if (m == 11) {
    // input1.value = "this is a vaey";
    var value = "this is a";
  var value1 = " vaey"
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
      text = "this is a vaey gud dea"
      console.log("i13")
    }

    if (m == 12) {
    // input1.value = "this is a very ";
    var value = "this is a very";
  var value1 = " "
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
    // input1.setSelectionRange(15, 21); // Highlights "Cup"
    // input1.focus();
      text = "this is a very gud dea"
      console.log("i16")
    }
    if (m == 13) {
    // input1.value = "this is a very great";
    var value = "this is a very";
  var value1 = " great"
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
    // input1.setSelectionRange(16, 21); // Highlights "Cup"
    // input1.focus();
      text = "this is a very gud dea"
      console.log("i20")
    }
    if (m == 14) {
    // input1.value = "this is a very guy";
    var value = "this is a very";
  var value1 = " gullible"
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
    //   input1.setSelectionRange(17, 19); // Highlights "Cup"
    // input1.focus();
      text = "this is a very gud dea"
      console.log("i13")
    }
    if (m == 15) {
    // input1.value = "this is a very gud";
    var value = "this is a very";
  var value1 = " gud"
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
//     input1.setSelectionRange(20, 23); // Highlights "Cup"
//     input1.focus();
      text = "this is a very gud dea"
      console.log("i16")
    }
    if (m == 16) {
    // input1.value = "this is a very good ";
    var value = "this is a very good";
  var value1 = " "
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
    // input1.setSelectionRange(20, 23); // Highlights "Cup"
    // input1.focus();
      text = "this is a very good dea"
      console.log("i16")
    }
    if (m == 17) {
    // input1.value = "this is a very good day";
    var value = "this is a very good";
  var value1 = " day"
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
    // input1.setSelectionRange(21, 23); // Highlights "Cup"
    // input1.focus();
      text = "this is a very good dea"
      console.log("i20")
    }
    if (m == 18) {
    // input1.value = "this is a very good device";
     var value = "this is a very good";
  var value1 = " device"
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
    // input1.setSelectionRange(22, 26); // Highlights "Cup"
    // input1.focus();
      text = "this is a very good dea"
      console.log("i20")
    }

    if (m == 19) {
    // input1.value = "this is a very good deal";
     var value = "this is a very good";
  var value1 = " deal"
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
    // input1.setSelectionRange(23, 25); // Highlights "Cup"
    // input1.focus();
      text = "this is a very good dea"
      console.log("i20")
    }

    if (m == 20) {
    // input1.value = "this is a very good idea";
     var value = "this is a very good idea";
  var value1 = ""
  input1.innerHTML = '<span class="red">' + value + '</span>' + value1
      text = "this is a very good idea"
      console.log("i16")
    }
    
   
    
  }.bind(this, m), m * 700);
}
}, 1000)}



// input1.value = html;
          }
          else{
          input.value = html;
          input1.value = ""
        }
          // document.getElementById("message-area").innerHTML += html;
        //   if (html == "this"){
        //   input.value = html;
        // }
        // if (html == "my"){
        //   input1.value = html;
        // }
        })
      }
    
      // function sendMessage() {
      //   var message = document.getElementById("typing-box").value;
      //   var html = '<div class="message-box my-message-box">' +
      //           '<div class="message my-message"> ' + message + ' </div>' +
      //           '<div class="separator"></div>' +
      //         '</div>';
              
      //   document.getElementById("message-area").innerHTML += html;
      //   document.getElementById("typing-box").value = "";
        
      //   socket.emit('codeboard-message', message);
      // }
    
    </script>
  
  </body>

</html>
